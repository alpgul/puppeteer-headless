<!DOCTYPE html>
<html>
<body>
    <script>
        if (document.URL.indexOf('index.html') > -1) {
            var serviceWorkerUrl = 'serviceworker.js';
            if (navigator.serviceWorker.controller) {
                console.log('Active service worker found, no need to register.');
            } else {
                navigator.serviceWorker.register(serviceWorkerUrl)
                    .then(function(registration) {
                        console.log('SW registered: ', registration);
                        registration.active.postMessage('Hello from page!');
                    })
                    .catch(function(registrationError) {
                        console.log('SW registration failed: ', registrationError);
                    });
            }
        }


    </script>
</body>
</html>
